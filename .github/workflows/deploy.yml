name: CI/CD Pipeline

on:
    push:
          branches: [ "main" ]

          jobs:
              deploy:
                    runs-on: ubuntu-latest
                          steps:
                                  - name: Checkout repository
                                            uses: actions/checkout@v4

                                                    - name: Deploy to Apache server via SSH
                                                              uses: appleboy/ssh-action@v1.2.0
                                                                        with:
                                                                                    host: ${{ secrets.SERVER_IP }}
                                                                                                username: ${{ secrets.SERVER_USER }}
                                                                                                            key: ${{ secrets.SSH_PRIVATE_KEY }}
                                                                                                                        script: |
                                                                                                                                      cd /var/www/html
                                                                                                                                                  git pull origin main
                                                                                                                                                              sudo systemctl restart apache2

